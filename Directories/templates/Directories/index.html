{% extends "Directories/base.html" %}
{% block title %} Directories App {% endblock %}
<body>
{% block jquery %} 
	<script> 
//	function get_action(){
		// collect the m_id from the selected option in the <select> tag			
//		var m_id = $("#id_model_classes_field" ).val();
		// put m_id in the form action URL to bring the list.html page
//		document.dbForm.action = m_id + "/"	
//	}
	</script>
{% endblock %}
{% block content%} 
<<<<<<< HEAD
	<div id="content" align="center">                
    	<h2> Welcome! this is Directories app! </h2> 
                <!-- alternative URL action = "{0% url 'Directories:list_models' 5 %}" --- needs this: {0% load url from future %} before the form initialisation
                <form action="list" method="post">{% csrf_token %0} -->
				{% load url from future %}
				<form action="{% url 'Directories:list_models'%}" method="post">	{% csrf_token %}
<!-- onsubmit="return get_action();" -->
{{ form.model_classes_field.errors }}
<label for="id_model_classes_field">Choose from one of the existing tables:</label> 
                    <select id="id_model_classes_field" name="model_classes_field"> 		
					{% for choice in form.fields.model_classes_field.choices %}
                           <option value="{{choice.0}}">{{choice.0}}</option> 

                        <!-- Workssss with ChoiceField (in a way)     
                        {0% for choice in form.fields.model_classes_field.choices %} 
                                        <!--option name="m_id" value="{{ choice.model_table }}">{{choice.model_id}}: {{choice.model_name}}</option 

---- displays but not works... it is a ModelChoiceField
{0% for choice in form.fields.model_classes_field.queryset %}
                           <option name="m_id" value="{0{ choice }}">{0{choice.model_id}}: {0{choice.model_name}}</option> --> 
                        {% endfor %} 


                        </select> <br /> 
                        <input type="submit" value="Change" name="_change" />
						<!-- input type="submit" value="Add" name="_add" /-->
                </form>
    </div>
    <div id="bottom">
                
    </div>
=======
	<div id="content" align="center">		
		<h2> Welcome! this is Directories app! </h2> 
		<!-- alternative URL action = "{0% url 'Directories:list_models' 5 %}" --- needs this: {0% load url from future %} before the form initialisation-->
		<form action="list" method="post">{% csrf_token %}
<!-- onsubmit="return get_action();" -->
{{ form.model_classes_field.errors }}
<label for="id_model_classes_field">Choose from one of the existing tables:</label> 
			<select id="id_model_classes_field" name="model_classes_field"> 
			{% for choice in form.fields.model_classes_field.choices %}
				<option name="m_id" value="{{ choice.model_table }}">{{choice.model_id}}: {{choice.model_name}}</option> 


			<!-- no choice field code -- old	
			{0% for choice in model_form.fields.model_classes_field.choices.queryset.all %} 
					<!--option name="m_id" value="{{ choice.model_table }}">{{choice.model_id}}: {{choice.model_name}}</option --> 
			{% endfor %} 


			</select> <br /> 
					<input type="submit" value="Submit"/>
		</form>
	</div>
	<div id="bottom">
		
	</div>
>>>>>>> afa76c68ac52b11cb70ac2e2a930c939c00d4e7f
{% endblock %}
</body>
